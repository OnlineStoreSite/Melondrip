<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Checkout | Melondrip</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="header-main"><div class="header-inner"><a href="index.html" class="logo"><img src="logo.png" alt="Melondrip logo" /></a></div></header>
  <div class="subheader"><p>Checkout</p></div>

  <main>
    <div class="checkout-container">
      <section class="order-summary">
        <h2>Order summary</h2>
        <table class="summary-table"><thead><tr><th>Product</th><th>Qty</th><th>Price</th><th>Total</th></tr></thead><tbody id="checkout-items"></tbody></table>
        <div class="summary-total"><span>Subtotal:</span><span id="sub-total">$0.00</span></div>
      </section>

      <section class="checkout-form">
        <h2>Shipping &amp; billing</h2>
        <form id="checkout-form">
          <div class="form-row"><label>Name</label><input required /></div>
          <div class="form-row"><label>Email</label><input type="email" required /></div>
          <div class="form-row"><label>Address</label><input required /></div>
          <div class="form-row flex-two"><div><label>City</label><input required /></div><div><label>Postal</label><input required /></div></div>
          <div class="form-row"><label>Country</label><input required /></div>

          <h2>Payment</h2>
          <div class="form-row"><label><input type="radio" name="pay" checked /> Card</label><label><input type="radio" name="pay" /> PayPal</label></div>
          <div class="form-row"><label>Card number</label><input placeholder="•••• •••• •••• ••••" /></div>
          <div class="form-row flex-two"><div><label>Exp</label><input placeholder="MM/YY" /></div><div><label>CVC</label><input placeholder="•••" /></div></div>

          <button class="btn full">Place order</button>
        </form>
      </section>
    </div>
  </main>

  <footer><div class="footer-header"><p>More information</p></div><div class="footer-links"><a href="#">Contact</a><a href="#">Returns &amp; Exchanges</a><a href="#">Terms &amp; Conditions</a><a href="#">Shipping &amp; Delivery</a><a href="#">Privacy Policy</a></div></footer>

  <script>
    const CART_KEY='melondrip_cart';
    const cart=JSON.parse(localStorage.getItem(CART_KEY)||'[]');
    let subtotal=0;const tbody=document.getElementById('checkout-items');
    if(cart.length){cart.forEach(i=>{const line=(i.price*i.quantity).toFixed(2);subtotal+=+line;tbody.innerHTML+=`<tr><td>${i.name}</td><td>${i.quantity}</td><td>$${i.price.toFixed(2)}</td><td>$${line}</td></tr>`})}else tbody.innerHTML='<tr><td colspan="4">Cart empty.</td></tr>';
    document.getElementById('sub-total').textContent=`$${subtotal.toFixed(2)}`;
    document.getElementById('checkout-form').addEventListener('submit',e=>{e.preventDefault();alert('Thanks for your order!');localStorage.removeItem(CART_KEY);location='index.html';});
  </script>
</body>
</html>
